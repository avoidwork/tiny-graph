{"version":3,"sources":["tiny-graph.js"],"names":["constructor","value","edges","nodes","add","adjacent","del","delNode","Object","keys","forEach","fromJSON","JSON","parse","getEdgeValue","getNodeValue","neighbors","setEdgeValue","setNodeValue","toJSON","stringify","version","exports","define","amd","graph","module","window","global"],"mappings":"AAQC,YAAkB,CAClB,aAAuB,CACtB,MAAe,KAAK,EAAb,IACP,CASD,aAAsB,CACrB,MAAO,SACP,CAyHD,YAAkB,CACjB,MAAO,MACP,CApID,OAAW,CACVA,cAAoB,CACnB,KAAKC,KAAL,EADmB,CAEnB,KAAKC,KAAL,CAAa,EACb,CAJS,CAWX,OAAY,CACXF,aAAe,CACd,KAAKG,KAAL,CAAa,EACb,CAEDC,QAAW,CACV,GAAI,KAAJ,CAOA,MALI,GAAQ,KAAKD,KAAL,GAAR,GAA0B,EAAQ,KAAKA,KAAL,GAAR,CAK9B,GAJC,KAAKA,KAAL,IAAcD,KAAd,IAAyB,KAAKC,KAAL,IAAcD,KAAd,IAAyB,IAInD,CAHC,IAGD,GACA,CAEDG,aAAgB,CACf,KAAM,GAAI,KAAKF,KAAL,GAAV,CACA,GAAI,KAAJ,CAMA,MAJI,KAIJ,GAHC,EAAS,EAAQ,EAAED,KAAF,GAAR,CAGV,GACA,CAEDI,QAAW,CACV,GAAI,KAAJ,CAQA,MANI,GAAQ,KAAKH,KAAL,GAAR,GAA0B,EAAQ,KAAKA,KAAL,IAAcD,KAAd,GAAR,CAM9B,GALC,MAAO,MAAKC,KAAL,IAAcD,KAAd,GAKR,CAJC,MAAO,MAAKC,KAAL,IAAcD,KAAd,GAIR,CAHC,IAGD,GACA,CAEDK,UAAY,CACX,KAAM,GAAI,KAAKJ,KAAL,GAAV,CACA,GAAI,KAAJ,CAWA,MATI,KASJ,GARCK,OAAOC,IAAP,CAAY,EAAEP,KAAd,EAAqBQ,OAArB,CAA6B,KAAK,CACjC,MAAO,MAAKP,KAAL,IAAcD,KAAd,GACP,CAFD,CAQD,CAJC,MAAO,MAAKC,KAAL,GAIR,CAHC,IAGD,GACA,CAEDQ,WAAe,CAGd,MAFA,MAAKR,KAAL,CAAaS,KAAKC,KAAL,GAEb,CAAO,IACP,CAEDC,iBAAoB,CACnB,KAAM,GAAI,KAAKX,KAAL,GAAV,CACA,GAAI,EAAJ,CAMA,MAJI,OAAc,EAAQ,EAAED,KAAF,GAAR,CAIlB,GAHC,EAAS,EAAEA,KAAF,GAGV,GACA,CAEDa,eAAiB,CAChB,KAAM,GAAI,KAAKZ,KAAL,GAAV,CACA,GAAI,EAAJ,CAMA,MAJI,KAIJ,GAHC,EAAS,EAAEF,KAGZ,GACA,CAEDe,YAAc,CACb,KAAM,GAAI,KAAKb,KAAL,GAAV,CAEA,MAAO,MAAaK,OAAOC,IAAP,CAAY,EAAEP,KAAd,CAAb,CAAoC,EAC3C,CAEDe,mBAAuB,CACtB,GAAI,KAAJ,CAOA,MALI,GAAQ,KAAKd,KAAL,GAAR,GAA0B,EAAQ,KAAKA,KAAL,IAAcD,KAAd,GAAR,CAK9B,GAJC,KAAKC,KAAL,IAAcD,KAAd,IAAyB,KAAKC,KAAL,IAAcD,KAAd,IAAyB,OAAiB,IAIpE,CAHC,IAGD,GACA,CAEDgB,iBAAoB,CACnB,KAAM,GAAI,KAAKf,KAAL,GAAV,CAUA,MARA,GAAI,OAAiB,IAQrB,GALC,EAAEF,KAAF,EAKD,CAHC,KAAKE,KAAL,IAAgB,IAGjB,GACA,CAEDgB,OAAQ,EAAQ,CAAhB,CAAmB,CAClB,MAAOP,MAAKQ,SAAL,CAAe,KAAKjB,KAApB,CAA2B,IAA3B,GACP,CApHU,CA2HZ,EAAMkB,OAAN,CAAgB,OA3IE,CA8IK,WAAnB,QAAOC,QA9IO,CAgJW,UAAlB,QAAOC,OAAP,EAA+C,IAAK,EAApB,UAAOC,GAhJhC,CAiJjBD,OAAO,KAAP,CAjJiB,CAmJjB,EAAOE,KAAP,EAnJiB,CA+IjBC,OAAOJ,OAAP,EAMD,CArJA,EAqJmB,WAAlB,QAAOK,OAAP,CAAyCC,MAAzC,CAAgCD,MArJjC,C","file":"unknown","sourcesContent":["/**\r\n * Tiny graph data structure for Client or Server\r\n *\r\n * @author Jason Mulligan <jason.mulligan@avoidwork.com>\r\n * @copyright 2018\r\n * @license BSD-3-Clause\r\n * @version 2.1.0\r\n */\r\n(function (global) {\r\n\tfunction defined (arg) {\r\n\t\treturn arg !== void 0;\r\n\t}\r\n\r\n\tclass Node {\r\n\t\tconstructor (value) {\r\n\t\t\tthis.value = value;\r\n\t\t\tthis.edges = {};\r\n\t\t}\r\n\t}\r\n\r\n\tfunction node (value) {\r\n\t\treturn new Node(value);\r\n\t}\r\n\r\n\tclass Graph {\r\n\t\tconstructor () {\r\n\t\t\tthis.nodes = {};\r\n\t\t}\r\n\r\n\t\tadd (x, y) {\r\n\t\t\tlet result = false;\r\n\r\n\t\t\tif (defined(this.nodes[x]) && defined(this.nodes[y])) {\r\n\t\t\t\tthis.nodes[x].edges[y] = this.nodes[y].edges[x] = null;\r\n\t\t\t\tresult = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tadjacent (x, y) {\r\n\t\t\tconst n = this.nodes[x];\r\n\t\t\tlet result = false;\r\n\r\n\t\t\tif (defined(n)) {\r\n\t\t\t\tresult = defined(n.edges[y]);\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tdel (x, y) {\r\n\t\t\tlet result = false;\r\n\r\n\t\t\tif (defined(this.nodes[x]) && defined(this.nodes[x].edges[y])) {\r\n\t\t\t\tdelete this.nodes[x].edges[y];\r\n\t\t\t\tdelete this.nodes[y].edges[x];\r\n\t\t\t\tresult = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tdelNode (x) {\r\n\t\t\tconst n = this.nodes[x];\r\n\t\t\tlet result = false;\r\n\r\n\t\t\tif (defined(n)) {\r\n\t\t\t\tObject.keys(n.edges).forEach(y => {\r\n\t\t\t\t\tdelete this.nodes[y].edges[x];\r\n\t\t\t\t});\r\n\r\n\t\t\t\tdelete this.nodes[x];\r\n\t\t\t\tresult = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tfromJSON (arg) {\r\n\t\t\tthis.nodes = JSON.parse(arg);\r\n\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tgetEdgeValue (x, y) {\r\n\t\t\tconst n = this.nodes[x];\r\n\t\t\tlet result;\r\n\r\n\t\t\tif (defined(n) && defined(n.edges[y])) {\r\n\t\t\t\tresult = n.edges[y];\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tgetNodeValue (x) {\r\n\t\t\tconst n = this.nodes[x];\r\n\t\t\tlet result;\r\n\r\n\t\t\tif (defined(n)) {\r\n\t\t\t\tresult = n.value;\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tneighbors (x) {\r\n\t\t\tconst n = this.nodes[x];\r\n\r\n\t\t\treturn defined(n) ? Object.keys(n.edges) : [];\r\n\t\t}\r\n\r\n\t\tsetEdgeValue (x, y, v) {\r\n\t\t\tlet result = false;\r\n\r\n\t\t\tif (defined(this.nodes[x]) && defined(this.nodes[x].edges[y])) {\r\n\t\t\t\tthis.nodes[x].edges[y] = this.nodes[y].edges[x] = defined(v) ? v : null;\r\n\t\t\t\tresult = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tsetNodeValue (x, v) {\r\n\t\t\tconst n = this.nodes[x];\r\n\r\n\t\t\tv = defined(v) ? v : null;\r\n\r\n\t\t\tif (n) {\r\n\t\t\t\tn.value = v;\r\n\t\t\t} else {\r\n\t\t\t\tthis.nodes[x] = node(v);\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\ttoJSON (space = 0) {\r\n\t\t\treturn JSON.stringify(this.nodes, null, space);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction graph () {\r\n\t\treturn new Graph();\r\n\t}\r\n\r\n\tgraph.version = \"2.1.0\";\r\n\r\n\t// Node, AMD & window supported\r\n\tif (typeof exports !== \"undefined\") {\r\n\t\tmodule.exports = graph;\r\n\t} else if (typeof define === \"function\" && define.amd !== void 0) {\r\n\t\tdefine(() => graph);\r\n\t} else {\r\n\t\tglobal.graph = graph;\r\n\t}\r\n}(typeof window !== \"undefined\" ? window : global));\r\n"]}